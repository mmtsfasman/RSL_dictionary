<!DOCTYPE html>
<html lang="en">
    <head>

    <!-- РАБОТА С БД и CQL  найти откуда сюда высылаются переменные -
        sign_id #как мы называем каждую страницу(адрес)
        video #ссылка на видео
        information #словарь для слова, где ключи - это название столбцов(перевод, этимология и т.п.), а значения - это информация в ячейке про данное слово
        example_video #ссылка на видео с примером
        info_example #словарь, ключи - названия столбцов, значения - содержание ячейки про данный пример  -->

        <title>word</title> <!-- тут надо понять, как удобнее называть страницу-->
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style.css')}}">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
       <!--link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"-->
        
      <script src="{{url_for('static',filename='jquery.min.js')}}"></script>
      <script src="{{url_for('static',filename='bootstrap.min.js')}}"></script>
        

    </head>

    <body>
        
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
          <a class="navbar-brand" href="#"> <h2>РЖЯ - русский словарь</h2></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation" style="">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarColor02">
            <ul class="navbar-nav">
              <li class="nav-item active">
                <a class="nav-link" href="#"> На главную <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#"> Инфо </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#"> Разное </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">О разработчиках</a>
              </li>
            </ul>
           
           
          </div>
        </nav>
        
        
        
    <div class="container-fluid">
        <div class="row content">
            <div class="col-sm-2 sidenav bg-secondary">

        <form action={{url_for('search')}} method="get">
            <h3> Поиск </h3>

            <div class="input-group">
                <input name="request" type="text" class="form-control" placeholder="слово или жест">
                <span class="input-group-btn">
                  <button name="submit" class="btn btn-default" type="submit">
                    <span class="glyphicon glyphicon-search"></span>
                  </button>
                </span>
            </div>

        </form>
      
    </div>



    
         <div class="col-4">
               <div class='container'>
                 <!--div class="media"-->
                 
                    <!-- div class="embed-responsive embed-responsive-16by9">                   
                        <iframe  src="https://www.youtube.com/embed/K7aEVy4rMcE" allowfullscreen>
                            Любовь
                        </iframe-->
                        <div id="myCarousel" class="carousel" data-ride="carousel">
                            <!-- Indicators -->
                            <ol class="carousel-indicators">
                                {% set n_overall = 0%}                               
                                {%for n_sign, sign in enumerate(entry.signs)%} 
                                    {%for n_video, video in enumerate(sign.videos)%}
                                      {%  set n_overall = (n_overall + 1)%}
                                      {%if n_video==1  and n_sign==1%}                                       
                                          <li data-target="#myCarousel" data-slide-to="{{n_overall}}" class="active"></li>
                                      {%else%}
                                          <li data-target="#myCarousel" data-slide-to="{{n_overall}}"></li>
                                            
                                      {%endif%}
                                    {%endfor%}
                                {%endfor%}                          
                            
                            </ol>
                            
                            <!-- Wrapper for slides -->
                            <div class="carousel-inner">
                                                            
                                {%for n_sign, sign in enumerate(entry.signs)%} 
                                    {%for n_video, video in enumerate(sign.videos)%}
                                      
                                      {%if n_video==1  and n_sign==1%}                                       
                                          <div class="item active">
                                       {%else%}
                                          <div class="item">
                                       {%endif%}
                                          <div class="embed-responsive embed-responsive-16by9">                   
                                              <iframe  src="{{video.url}}" allowfullscreen></iframe>
                                          </div>
                                          <div class="carousel-caption">
                                              <h4>{{str(n_sign) + '.' + str(n_video) + '  ' + video.hamnosys}}</h4>
                                              
                                                
                                              {%if len(video.labels.region) != 0%} 
                                              <p><i>{%for n_label, region in enumerate(video.labels.regions)%}
                                                          {%if n_label == len(video.labels.regions)%}
                                                                  {{region}}
                                                          {%else%}
                                                                  {{region + ', '}}
                                                          {%endif%}
                                                    {%endfor%}
                                              </i></p>
                                               {%endif%}
                                                                                                  
                                         
                                            </div>
                                          </div>
                                      
                                    {%endfor%}
                                {%endfor%}
                            </div>
                            

                            <!-- Left and right controls -->
                            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                              <span class="glyphicon glyphicon-chevron-left"></span>
                              <span class="sr-only">Previous</span>
                            </a>
                            <a class="right carousel-control" href="#myCarousel" data-slide="next">
                              <span class="glyphicon glyphicon-chevron-right"></span>
                              <span class="sr-only">Next</span>
                            </a>
                   </div>
                   
              </div>
            
          
             
            {# <div class='container'>
                 <div class="card border-warning">
                     <div class="card-body">                                                  
                          <blockquote class="card-blockquote">
                              
                            
                         
                             <h4> <a  href="#collapse5" data-toggle="collapse"> Выражения с жестом </a> </h4>
                               <div id="collapse5" class="collapse">
                                    <div id="myCarousel" class="carousel" data-ride="carousel">
                            <
                            <ol class="carousel-indicators">
                                                            
                                {%for n_MWE, MWE in enumerate(entry.MWEs)%} 
                                    {%for n_MWE, MWE in enumerate(sign.videos)%}
                                      
                                      {%if n_video==1  and n_sign==1%}                                       
                                          <li data-target="#myCarousel" data-slide-to="{{n_MWE}}" class="active"></li>
                                      {%else%}
                                          <li data-target="#myCarousel" data-slide-to="{{n_MWE}}"></li>
                                            
                                      {%endif%}
                                    {%endfor%}
                                {%endfor%}                          
                            
                            </ol>
                            
                            
                            <div class="carousel-inner">
                                                            
                                {%for n_sign, sign in enumerate(entry.signs)%} 
                                    {%for n_video, video in enumerate(sign.videos)%}
                                      
                                      {%if n_video==1  and n_sign==1%}                                       
                                          <div class="item active">
                                       {%else%}
                                          <div class="item">
                                       {%endif%}
                                          <div class="embed-responsive embed-responsive-16by9">                   
                                              <iframe  src="{{video.url}}" allowfullscreen></iframe>
                                          </div>
                                          <div class="carousel-caption">
                                              <h4>{{str(n_sign) + '.' + str(n_video) + '  ' + video.hamnosys}}</h4>
                                              
                                                
                                              {%if len(video.labels.region) != 0%} 
                                              <p><i>{%for n_label, region in enumerate(video.labels.regions)%}
                                                          {%if n_label == len(video.labels.regions)%}
                                                                  {{region}}
                                                          {%else%}
                                                                  {{region + ', '}}
                                                          {%endif%}
                                                    {%endfor%}
                                              </i></p>
                                              {%endif%}
                                                                                                  
                                         
                                            </div>
                                          </div>
                                      
                                    {%endfor%}
                                {%endfor%}
                            </div> 
                            

                            
                            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                              <span class="glyphicon glyphicon-chevron-left"></span>
                              <span class="sr-only">Previous</span>
                            </a>
                            <a class="right carousel-control" href="#myCarousel" data-slide="next">
                              <span class="glyphicon glyphicon-chevron-right"></span>
                              <span class="sr-only">Next</span>
                            </a>
                   </div>   
                            
                              
                                                      
                            
                 
                                                 
                                   
                                   
                                    
                                 
                             </div>
                         </blockquote>
                     </div>
                 </div>
              </div>  #}
               
        </div>  
         
            <div class="col-3">   
                <div class='container'> 
                    
                    
                        
                        <h4>Запись в системе HamNoSys </h4>
                            <p class=hamnosys></p>

                        <h4>  Перевод </h4>
                        <div class="card border-light">
                          <div class="card-body">
                                <blockquote class="card-blockquote">
                                    
                        {%for n_homograph, homograph in enumerate(entry.homographs)%} 
                            {%for n_lu, lexical_unit in enumerate(sign.lexical_units)%}
                              
                              {{n_homograph + '.' + n_lu + ' '}}
                                  
                                  <p class='uppercase'>
                                  {%if lexical_unit.part_of_speech != []%}
                                      {{lexical_unit.part_of_speech|join(', ')}}
                                  {%endif%}
                                   </p>
                               
                                  <i>
                                  {%if lexical_unit.labels.domain != ''%}
                                      {{lexical_unit.labels.domain + ', '}}
                                  {%endif%}
                                  {%if lexical_unit.labels.style != ''%}
                                      {{lexical_unit.labels.style + ', '}} 
                                  {%endif%}
                                  {%if lexical_unit.labels.style != ''%}
                                      {{lexical_unit.labels.regions|join('/ ')}}
                                  {%endif%} 
                                  </i> 
                            
                                   {{lexical_unit.translation}} 
                                    
                                    
                               
                     <a  href="#collapse4" data-toggle="collapse"> <p align="center"> Примеры </p></a>
                    
                     <div id="collapse4" class="collapse">
                         <div class='container'>
                             <div class="card border-info">
                                 <div class="card-body">
                                      <blockquote class="card-blockquote">
                             
                                          <div id="myCarousel" class="carousel" data-ride="carousel">
                            <!-- Indicators -->
                                                <ol class="carousel-indicators">

                                                    {%for n_example, example in enumerate(lexical_unit.exapmples)%} 

                                                          {%if n_example==1%}                                       
                                                              <li data-target="#myCarousel" data-slide-to="{{n_example}}" class="active"></li>
                                                          {%else%}
                                                              <li data-target="#myCarousel" data-slide-to="{{n_example}}"></li>
                                                          {%endif%}

                                                    {%endfor%}                          

                                                </ol>

                                                <!-- Wrapper for slides -->
                                                <div class="carousel-inner">

                                                    {%for n_example, example in enumerate(entry.examples)%} 
                                                          {%if n_example==1%}                                       
                                                              <div class="item active">
                                                           {%else%}
                                                              <div class="item">
                                                           {%endif%}

                                                                  <div class="embed-responsive embed-responsive-16by9">                   
                                                                      <iframe  src="{{example.video_url}}" allowfullscreen></iframe>
                                                                  </div>
                                                                  <div class="carousel-caption">
                                                                      <h5>{{str(n_example) + '.' + ' '}}
                                                                          {{example.glosses|join(' '| attribute = 'word')}}</h5>
                                                                      <h5>{{example.translation}}</h5>
                                                                      <a href ='{{example.source}}'>Источник примера</a>

                                                                  </div>

                                                  </div>


                                                    {%endfor%}
                                                </div>


                                                <!-- Left and right controls -->
                                                <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                                                  <span class="glyphicon glyphicon-chevron-left"></span>
                                                  <span class="sr-only">Previous</span>
                                                </a>
                                                <a class="right carousel-control" href="#myCarousel" data-slide="next">
                                                  <span class="glyphicon glyphicon-chevron-right"></span>
                                                  <span class="sr-only">Next</span>
                                                </a>




                                         
                                     </blockquote>
                                 </div>
                             </div>
                         </div>
                     </div> 
                                 
                                          
                        <a  href="#collapse2" data-toggle="collapse"> <p align="center">Формы </p></a>
                    
                     <div id="collapse2" class="collapse">
                         
                             <div class="card border-info">
                                 <div class="card-body">
                                     <blockquote class="card-blockquote">

                                         <div id="myCarousel" class="carousel" data-ride="carousel">
                            <!-- Indicators -->
                                                <ol class="carousel-indicators">

                                                    {%for n_form, form in enumerate(lexical_unit.inflected_forms)%} 

                                                          {%if n_form==1%}                                       
                                                              <li data-target="#myCarousel" data-slide-to="{{n_form}}" class="active"></li>
                                                          {%else%}
                                                              <li data-target="#myCarousel" data-slide-to="{{n_form}}"></li>
                                                          {%endif%}

                                                    {%endfor%}                          

                                                </ol>

                                                <!-- Wrapper for slides -->
                                                <div class="carousel-inner">
                                                {%if lexical_unit.inflected_forms != 
                                                    ]%} 
                                                {%for n_form, form in enumerate(lexical_unit.inflected_forms)%} 
                                                      {%if n_form==1%}                                       
                                                          <div class="item active">
                                                       {%else%}
                                                          <div class="item">
                                                       {%endif%}

                                                              <div class="embed-responsive embed-responsive-16by9">                   
                                                                  <iframe  src="{{form.video_url}}" allowfullscreen></iframe>
                                                              </div>
                                                              <div class="carousel-caption">
                                                                  {%if form.glosses != []%}
                                                                      <h5>{{form.glosses|join(' '| attribute = 'word')}}</h5> 
                                                                  {%endif%}
                                                                  {%if form.translation != '' %}
                                                                      <h5>{{form.translation}}</h5>
                                                                  {%endif%}
                                                                  {%if form.grammatical_label != ''%}
                                                                      <h5>{{form.grammatical_label}}</h5>
                                                                  {%endif%}

                                                              </div>

                                                          </div>


                                                {%endfor%}
                                                {%endif%}              
                                                </div>


                                                <!-- Left and right controls -->
                                                <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                                                  <span class="glyphicon glyphicon-chevron-left"></span>
                                                  <span class="sr-only">Previous</span>
                                                </a>
                                                <a class="right carousel-control" href="#myCarousel" data-slide="next">
                                                  <span class="glyphicon glyphicon-chevron-right"></span>
                                                  <span class="sr-only">Next</span>
                                                </a>


                                     </blockquote>
                                
                             </div>
                         </div>
                     </div> 
                               
                    
                      
                             
                      </div>
                  

                              
                            {%endfor%}
                        {%endfor%}    
                    
                    
                    
                     
                        {%if entry.etymology.text != '' or entry.etymology.words_referred != []%}
                                    <h4><a  href="#collapse3" data-toggle="collapse"> Этимология </a></h4>
                       
                         <div id="collapse3" class="collapse">
                            {%if entry.etymology.text != ''%}
                                {{entry.etymology.text}}
                            {%enif%} 
                             
                            {%if entry.etymology.words_referred != []%} 
                            <p>см.
                                {%for n_ref, ref in enumerate(entry.etymology.words_referred%)}
                               
                                    <a href='{{'/' + ref.entry}}'> {{ref.word}} 
                                    {%if n_ref != len(entry.etymology.words_referred%)%}
                                        {{', '}}
                                    {%endif%} </a>
                                {%endfor%} 
                            </p>
                         </div>
                         

                      
                     </div>
                       {%endif%}

          
                
                  </div>
            </div>
            
            

                
     
           
         </div>
        </div>
   

    </body>
</html>